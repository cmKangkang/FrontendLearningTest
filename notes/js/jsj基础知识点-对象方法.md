# js基础知识点-对象方法

在 JavaScript 中，对象是一组**无序**的相关属性和方法的集合。

对象具有**特征**（属性）和**行为**（方法）。

* 对象内的属性均为键值对。属性名：属性值。（属性值也可是个函数)

* 传值与传址：

  * 基本数据类型为传值，对象为传址

  * 传址

    ```js
    var obj1 = new Object();
    obj1.name = "孙悟空";
    
    var obj2 = obj1; // 将 obj1 的地址赋值给 obj2。从此， obj1 和 obj2 指向了同一个堆内存空间
    
    //修改obj2的name属性
    obj2.name = "猪八戒";
    console.log(obj1.name);//"猪八戒"
    /*======================*/
    
    //若打算把obj1的值赋给obj3且两者之间互不影响，可通过 Object.assign() 来复制对象
    var obj1 = {name: '孙悟空'};
    
    // 复制对象：把 obj1 赋值给 obj3。两者之间互不影响
    var obj3 = Object.assign({}, obj1);
    ```

### 对象的分类

1. 内置对象：由ES标准中定义的对象，在任何的ES的实现中都可以使用。比如：Object、Math、Date、String、Array、Number、Boolean、Function等。
2. 宿主对象：由JS的运行环境提供的对象，目前来讲主要指由浏览器提供的对象：比如 BOM DOM。比如`console`、`documen`。
3. 自定义对象：通过 new 关键字创建出来的对象实例，都是属于对象类型，比如Object、Array、Date等。

## 基本包装类型

1. 基本数据类型无法绑定属性和方法。

   比如字符串let str='aaa'，绑定一个自行定义的属性是无效的，但str.length、str.indexOf()却是有效的，因为这两个方法在底层做了数据类型转换，string字符串转为String对象，再调用内置方法。

2. 引用数据类型可以绑定属性和方法。如Number、Boolean、String等

### 基本包装类型

有三个：String()、Number()、Boolean()

作用：当我们对一些基本数据类型的值去调用属性和方法时，浏览器会**临时使用包装类将基本数据类型转换为引用数据类型**，这样的话，基本数据类型就有了属性和方法，然后再调用对象的属性和方法；调用完以后，再将其转换为基本数据类型。

### string保存方式

在底层，字符串以字符数组的形式保存

---



## 内置对象

**JavaScript的内置对象**：

| 内置对象  | 对象说明       |
| --------- | -------------- |
| Arguments | 函数参数集合   |
| Array     | 数组           |
| Boolean   | 布尔对象       |
| Math      | 数学对象       |
| Date      | 日期时间       |
| Error     | 异常对象       |
| Function  | 函数构造器     |
| Number    | 数值对象       |
| Object    | 基础对象       |
| RegExp    | 正则表达式对象 |
| String    | 字符串对象     |

### 字符串

字符串的所有方法都不会改变原字符串。

1. indexOf()/lastIndexOf()：获取字符串中指定内容的索引。

   ```
   索引值 = str.indexOf(想要查询的字符串);
   indexOf() 是从前向后查找字符串的位置。同理，lastIndexOf()是从后向前寻找。
   可以检索一个字符串中是否含有指定内容。如果字符串中含有该内容，则会返回其第一次出现的索引；如果没有找到指定的内容，则返回 -1。
   ```

2. search()：获取字符串中指定内容的索引（参数里一般是正则）

   ```
   索引值 = str.search(想要查找的字符串);
   索引值 = str.search(正则表达式);
   search() 方法里的参数，既可以传字符串，也可以传正则表达式。
   
   解释：可以检索一个字符串中是否含有指定内容。如果字符串中含有该内容，则会返回其第一次出现的索引；如果没有找到指定的内容，则返回 -1。
   ```

3. includes()：字符串中是否包含指定的内容

   ```
   布尔值 = str.includes(想要查找的字符串, [position]);
   **解释**：判断一个字符串中是否含有指定内容。如果字符串中含有该内容，则会返回 true；否则返回 false。
   
   参数中的 `position`：如果不指定，则默认为0；如果指定，则规定了检索的起始位置
   ```

4. startsWith():字符串是否以指定的内容开头

   ```
   布尔值 = str.startsWith(想要查找的内容, [position]);
   **解释**：判断一个字符串是否以指定的子字符串开头。如果是，则返回 true；否则返回 false。
   
   **参数中的position**：
   
   - 如果不指定，则默认为0。
   - 如果指定，则规定了**检索的起始位置**。检索的范围包括：这个指定位置开始，直到字符串的末尾。即：[position, str.length)
   ```

5. endWith():字符串是否已指定的内容结尾

   ```
   布尔值 = str.endsWith(想要查找的内容, [position]);
   **解释**：判断一个字符串是否以指定的子字符串结尾。如果是，则返回 true；否则返回 false。
   
   **参数中的position**：
   
   - 如果不指定，则默认为 str.length。
   - 如果指定，则规定了**检索的结束位置**。检索的范围包括：从第一个字符串开始，直到这个指定的位置。即：[0, position)
   - 或者你可以这样简单理解：endsWith() 方法里的position，表示**检索的长度**。
   
   注意：startsWith() 和 endsWith()这两个方法，他们的 position 的含义是不同的，请仔细区分。
   ```

6. 获取指定位置的字符

   1. charAt(index)
   
      ```
      字符 = str.charAt(index);
      解释：返回字符串指定位置的字符。这里的 `str.charAt(index)`和`str[index]`的效果是一样的。
      
      注意：字符串中第一个字符的下标是 0。如果参数 index 不在 [0, string.length) 之间，该方法将返回一个空字符串。
      ```
   
   2. str[index]
   
      `str.charAt(index)`和`str[index]`的效果是一样的，不再赘述。区别在于：`str[index]`是 H5 标准里新增的特性。
   
   3. charCodeAt(index)
   
      ```
      字符 = str.charCodeAt(index);
      解释：返回字符串指定位置的字符的 Unicode 编码。不会修改原字符串。
      
      在实际应用中，通过这个方法，我们可以判断用户按下了哪个按键。
      ```
   
7. 字符串截取

   1. slice()

      ```
      新字符串 = str.slice(开始索引, 结束索引); //两个参数都是索引值。包左不包右。
      解释：从字符串中截取指定的内容。不会修改原字符串，而是将及截取到的内容返回。
      
      注意：上面的参数，包左不包右。参数举例如下：
      
      - `(2, 5)` 截取时，包左不包右。
      - `(2)` 表示**从指定的索引位置开始，截取到最后**。
      - `(-3)` 表示从倒数第三个开始，截取到最后。
      - `(1, -1)` 表示从第一个截取到倒数第一个。
      - `(5, 2)` 表示前面的大，后面的小，返回值为空。
      ```

   2. substring()

   3. substr()

   4. String.fromCharCode()

   5. concat()  连接两个字符串

   6. split()：字符串转换为数组

   7. replace()

   8. repeat()

   9. trim() 去除字符串前后的空白

   10. toLowerCase()转小写

       toUpperCase()转大写



### Number

1. Number.isInteger()判断是否为整数
2. toFixed()小数点后面保留多少位

### Math

Math 和其他的对象不同，它不是一个构造函数，不需要创建对象。所以我们不需要 通过 new 来调用，而是直接使用里面的属性和方法即可。

Math属于一个工具类，里面封装了数学运算相关的属性和方法。如下：



| 方法              | 描述                                       | 备注              |
| ----------------- | ------------------------------------------ | ----------------- |
| Math.PI           | 圆周率                                     | Math对象的属性    |
| Math.abs()        | **返回绝对值**                             |                   |
| Math.random()     | 生成0-1之间的**随机浮点数**                | 取值范围是 [0，1) |
| Math.floor()      | **向下取整**（往小取值）                   |                   |
| Math.ceil()       | **向上取整**（往大取值）                   |                   |
| Math.round()      | 四舍五入取整（正数四舍五入，负数五舍六入） |                   |
| Math.max(x, y, z) | 返回多个数中的最大值                       |                   |
| Math.min(x, y, z) | 返回多个数中的最小值                       |                   |
| Math.pow(x,y)     | 乘方：返回 x 的 y 次幂                     |                   |
| Math.sqrt()       | 开方：对一个数进行开方运算                 |                   |



### Date

暂时空出。



## 冻结对象：Object.freeze()

Object.freeze() 方法可以冻结一个对象。一个被冻结的对象再也不能被修改；冻结了一个对象则不能向这个对象添加新的属性，不能删除已有属性，不能修改该对象已有属性的可枚举性、可配置性、可写性，以及不能修改已有属性的值。此外，冻结一个对象后该对象的原型也不能被修改。freeze() 返回和传入的参数相同的对象。

```js
const params = {
    name: 'qianguyihao';
    port: '8899';
}

Object.freeze(params); // 冻结对象 params

params.port = '8080';// 修改无效
```













